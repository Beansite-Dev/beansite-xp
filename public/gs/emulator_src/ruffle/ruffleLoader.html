<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/gs/GlobalStyleSheet.css"/>
</head>
<body>
    
    <script>
        function getQueryParams(qs) {
            qs = qs.split('+').join(' ');
            var params = {},
                tokens,
                re = /[?&]?([^=]+)=([^&]*)/g;
            while (tokens = re.exec(qs)) {
                params[decodeURIComponent(tokens[1])] = decodeURIComponent(tokens[2]);
            }
            return params;
        }
        window.RufflePlayer={
            config: {
                autoplay: "on",
                scale: "showAll",
                unmuteOverlay: "hidden",
                letterbox:getQueryParams(document.location.search).lb==="true"?"on":"fullscreen",
            }
        };
    
        window.addEventListener("DOMContentLoaded", () => {
            let ruffle=window.RufflePlayer.newest();
            let player=ruffle.createPlayer();
            let container=document.getElementById("container");
            container.appendChild(player);
            player.load(getQueryParams(document.location.search).g);
            player.style.width="100%";
            player.style.height="100%";
            document.title=getQueryParams(document.location.search).g;

        });
    </script>
    <script src="/gs/emulator_src/ruffle/ruffle_src/ruffle.js"></script>
    <div id="container" class="GameContainer"></div>

</body>
</html>